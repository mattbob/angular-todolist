var todoApp=angular.module("todoApp",["LocalStorageModule"]);todoApp.controller("TodoCtrl",["$scope","localStorageService",function(a,b){a.projects=[];var c=b.get("projects");c&&(a.projects=c),a.tasks=[];var d=b.get("tasks");d&&(a.tasks=d),a.completedTasks=[];var e=b.get("completedTasks");e&&(a.completedTasks=e),a.archivedTasks=[];var f=b.get("archivedTasks");f&&(a.archivedTasks=f),a.addProject=function(){a.projects.push({name:a.projectName}),b.set("projects",a.projects),a.projectName=""},a.tasksRemaining=function(c){a.selected=c;var d=0,e=b.get("tasks");return angular.forEach(e,function(a){a.project.name===c.name&&d++}),0!==d?d:void 0},a.addTask=function(){a.tasks.push({name:a.taskName,project:a.taskProject,done:!1}),b.set("tasks",a.tasks),a.taskName=""},a.completeTask=function(c){a.selected=c;{var d=b.get("tasks");b.get("completedTasks")}a.tasks=[],angular.forEach(d,function(b){b.name===c.name&&b.done===!1?(b.done=!0,a.completedTasks.push(b)):a.tasks.push(b)}),b.set("tasks",a.tasks),b.set("completedTasks",a.completedTasks)},a.uncompleteTask=function(c){a.selected=c;var d=(b.get("tasks"),b.get("completedTasks"));a.completedTasks=[],angular.forEach(d,function(b){b.name===c.name&&b.done===!0?(b.done=!1,a.tasks.push(b)):a.completedTasks.push(b)}),b.set("tasks",a.tasks),b.set("completedTasks",a.completedTasks)},a.deleteTask=function(c){a.selected=c;var d=a.tasks.indexOf(c);a.tasks.splice(d,1),c=null,b.set("tasks",a.tasks)},a.deleteCompletedTask=function(c){a.selected=c;var d=a.completedTasks.indexOf(c);a.completedTasks.splice(d,1),c=null,b.set("completedTasks",a.completedTasks)}}]),$(document).ready(function(){$(".btn-completed").on("click",function(){$(".tasks-remaining").toggle(),$(".tasks-remaining").toggle()})});